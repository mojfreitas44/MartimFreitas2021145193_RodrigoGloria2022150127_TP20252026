@page "/categorias/details/{id:int}"
@inject GestaoLoja.Data.ApplicationDbContext DB
@inject NavigationManager NavigationManager

<PageTitle>Detalhes da Categoria</PageTitle>

<h1>Detalhes</h1>
<h4>Categoria</h4>
<hr />

@if (Categoria is null)
{
    <p><em>A carregar...</em></p>
}
else
{
    <div>
        <dl class="row">
            <dt class="col-sm-2">Nome:</dt>
            <dd class="col-sm-10">@Categoria.Nome</dd>

            <dt class="col-sm-2">Imagem URL:</dt>
            <dd class="col-sm-10">@Categoria.ImagemURL</dd>
        </dl>
    </div>
    <div>
        <a href="@($"categorias/edit/{Categoria.Id}")" class="btn btn-primary">Editar</a> |
        <a href="categorias">Voltar à Lista</a>
    </div>
}

@code {
    [Parameter]
    public int Id { get; set; }

    public GestaoLoja.Entities.Categoria? Categoria { get; set; }

    protected override async Task OnInitializedAsync()
    {
        // Vai à BD buscar a categoria específica
        Categoria = await DB.Categorias.FindAsync(Id);
    }
}